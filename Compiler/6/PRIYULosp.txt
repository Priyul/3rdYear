#include <iostream>
#include <cstring>
#include <iomanip>
#include <cstdlib>
#include <string>
#include <cctype>
using namespace std;
//priyul mahabeer - u20421169
// global
string s = "";

string matchPattern(string& s, int start = 0);

string matchPattern(string& s, int start) {
    if (s == "" && start == 0) {
	    s = "mapping not possible";
	    return s;
    }
    
    if (start == s.size())
        return "";
        

    if (s.substr(start, 4) == "ACBA") {
        string remaining = matchPattern(s, start+4);
        if (remaining != "mapping not possible") {
            return "X" + remaining;
        }
    }

    if (s.substr(start, 3) == "BAB") {
        string remaining = matchPattern(s, start+3);
        if (remaining != "mapping not possible") {
            return "Y" + remaining;
        }
    }

    if (s.substr(start, 2) == "AC") {
        string remaining = matchPattern(s, start+2);
        if (remaining != "mapping not possible") {
            return "Z" + remaining;
        }
    }

    return "mapping not possible";
}

int main()
{
    s = matchPattern(s);
    cout << s;

    return 0;
}